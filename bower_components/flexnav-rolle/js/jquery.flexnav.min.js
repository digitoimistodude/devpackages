(function(){var t;t=jQuery,t.fn.flexNav=function(e){var n,i,o,a,s,l,h,u,r,c,m,d;return r=t.extend({animationOpenSpeed:500,animationCloseSpeed:500,animationOpenEffect:"swing",animationCloseEffect:"swing",transitionOpacity:!0,buttonSelector:".menu-button",hoverIntent:!1,hoverIntentTimeout:150,calcItemWidths:!1,hover:!0},e),n=t(this),n.addClass("with-js"),r.transitionOpacity===!0&&n.addClass("opacity"),n.find("li").each(function(){return t(this).has("ul").length?t(this).addClass("item-with-ul").find("ul").hide():void 0}),r.calcItemWidths===!0&&(i=n.find(">li"),a=i.length,l=100/a,s=l+"%"),n.data("breakpoint")&&(o=n.data("breakpoint")),c=function(){return n.hasClass("lg-screen")===!0&&r.hover===!0?r.transitionOpacity===!0?t(this).find(">ul").addClass("menu-show").stop(!0,!0).animate({height:["toggle",r.animationOpenEffect],opacity:"toggle"},r.animationOpenSpeed):t(this).find(">ul").addClass("menu-show").stop(!0,!0).animate({height:["toggle",r.animationOpenEffect]},r.animationOpenSpeed):void 0},h=function(){return n.hasClass("lg-screen")===!0&&t(this).find(">ul").hasClass("menu-show")===!0&&r.hover===!0?r.transitionOpacity===!0?t(this).find(">ul").removeClass("menu-show").stop(!0,!0).animate({height:["toggle",r.animationCloseEffect],opacity:"toggle"},r.animationCloseSpeed):t(this).find(">ul").removeClass("menu-show").stop(!0,!0).animate({height:["toggle",r.animationCloseEffect]},r.animationCloseSpeed):void 0},u=function(){var e;if(t(window).width()<=o)return n.removeClass("lg-screen").addClass("sm-screen"),r.calcItemWidths===!0&&i.css("width","100%"),e=r.buttonSelector+", "+r.buttonSelector+" .touch-button",t(e).removeClass("active"),t(".one-page li a").on("click",function(){return n.removeClass("menu-show")});if(t(window).width()>o){if(n.removeClass("sm-screen").addClass("lg-screen"),r.calcItemWidths===!0&&i.css("width",s),n.removeClass("menu-show"),t(".item-with-ul").find("ul.menu-show").each(function(){h.call(t(this).parent().get(0))}),r.hoverIntent===!0)return t(".item-with-ul").hoverIntent({over:c,out:h,timeout:r.hoverIntentTimeout});if(r.hoverIntent===!1)return t(".item-with-ul").off().on("mouseenter",c).on("mouseleave",h)}},t(r.buttonSelector).data("navEl",n),d=".item-with-ul, "+r.buttonSelector,t(d).append('<span class="touch-button"><i class="navicon fa fa-angle-down"></i></span>'),m=r.buttonSelector+", "+r.buttonSelector+" .touch-button",t(m).on("click",function(e){var n,i,o;return t(m).toggleClass("active"),e.preventDefault(),e.stopPropagation(),o=r.buttonSelector,n=t(this).is(o)?t(this):t(this).parent(o),i=n.data("navEl"),i.toggleClass("menu-show")}),t(".touch-button").on("click touchend",function(){var e,i;return e=t(this).parent(".item-with-ul").find(">ul"),i=t(this).parent(".item-with-ul").find(">span.touch-button"),n.hasClass("lg-screen")===!0&&t(this).parent(".item-with-ul").siblings().find("ul.menu-show").removeClass("menu-show").hide(),e.hasClass("menu-show")===!0?(e.removeClass("menu-show").stop(!0,!0).animate({height:["toggle",r.animationCloseEffect],opacity:"toggle"},r.animationCloseSpeed),i.removeClass("active")):e.hasClass("menu-show")===!1?(e.addClass("menu-show").stop(!0,!0).animate({height:["toggle",r.animationOpenEffect],opacity:"toggle"},r.animationOpenSpeed),i.addClass("active")):void 0}),n.find(".item-with-ul *").focus(function(){return t(this).parent(".item-with-ul").parent().find(".open").not(this).removeClass("open").hide(),t(this).parent(".item-with-ul").find(">ul").addClass("open").show()}),u(),t(window).on("resize",u)}}).call(this);